@model FridgeSystem.Models.ViewModels.CustLiaisonDashboardViewModel

@{
    ViewData["Title"] = "Dashboard";
}

<h1 class="dashboard-title mb-4">Welcome, @Model.EmployeeName!</h1>



<div class="dashboard-container">
    <!-- Summary Cards -->
    <div class="dashboard-summary">
        <a asp-action="Customers" asp-controller="CustomerLiaison" class="summary-card">
            <h5>Total Customers</h5>
            <p>@Model.TotalCustomers</p>
        </a>

        <a asp-action="Allocations" asp-controller="CustomerLiaison" class="summary-card">
            <h5>Active Allocations</h5>
            <p>@Model.ActiveAllocations</p>
        </a>

        <a asp-action="FridgeRequests" asp-controller="CustomerLiaison" class="summary-card">
            <h5>Pending Requests</h5>
            <p>@Model.PendingRequests</p>
        </a>

        <a asp-action="EmployeeNotifications" asp-controller="CustomerLiaison" class="summary-card">
            <h5>
                Notifications
                @if (Model.UnreadNotifications > 0)
                {
                    <span class="badge">@Model.UnreadNotifications</span>
                }
            </h5>
        </a>
    </div>

    <!-- Action Buttons -->
    <div class="dashboard-actions-vertical mt-4">
        <a asp-action="Customers" asp-controller="CustomerLiaison" class="btn btn-primary">View Customers</a>
        <a asp-action="Allocations" asp-controller="CustomerLiaison" class="btn btn-primary">View Allocations</a>
        <a asp-action="FridgeRequests" asp-controller="CustomerLiaison" class="btn btn-primary">View Requests</a>
        <a asp-action="EmployeeNotifications" asp-controller="CustomerLiaison" class="btn btn-primary">View Notifications</a>
    </div>

    <!-- Recent Notifications -->
    <div class="mt-5">
        <h2>Recent Notifications</h2>
        @if (Model.RecentNotifications != null && Model.RecentNotifications.Any())
        {
            <ul class="list-group">
                @foreach (var notification in Model.RecentNotifications)
                {
                    <li class="list-group-item @(notification.IsRead ? "notification-read" : "notification-unread")">
                        @notification.Message - <small>@notification.SentDate:yyyy-MM-dd HH:mm</small>
                    </li>
                }
            </ul>
        }
        else
        {
            <p>No notifications available.</p>
        }
    </div>

    <!-- Recent Allocations -->
    <div class="mt-5">
        <h2>Recent Allocations</h2>
        @if (Model.RecentAllocations != null && Model.RecentAllocations.Any())
        {
            <ul class="list-group">
                @foreach (var allocation in Model.RecentAllocations)
                {
                    <li class="list-group-item allocation-item">
                        @allocation
                    </li>
                }
            </ul>
        }
        else
        {
            <p>No recent allocations available.</p>
        }
    </div>
</div>

